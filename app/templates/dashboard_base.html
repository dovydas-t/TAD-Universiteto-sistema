{% extends "base.html" %}

{%block navbar%} {%endblock%}
{%block css%}<link rel="stylesheet"
      href="{{ url_for('static', filename='css/basedashboard.css') }}"
    />{%endblock%}
{% block content %}

{% from 'profile/macros.html' import user_avatar %}

<div class="app-layout">
    <aside class="sidebar">
        
        <div class="sidebar-header">
            {% if current_user.profile.role == 'Student' or current_user.profile.role.value == 'Student' %}
                <h3>Student Portal</h3>
            {% elif current_user.profile.role == 'Teacher' or current_user.profile.role.value == 'Teacher' %}
                <h3>Teacher Portal</h3>
            {% else %}
                <h3>Portal</h3>
            {% endif %}
        </div>
        
        {% block sidebar_user %}
        {% if current_user.is_authenticated %}
            <div class="user-profile-section">
                <div class="user-info">
                    {{ user_avatar(current_user, 'medium') }}
                    <div class="user-details">
                        <h4>{{ current_user.profile.first_name or current_user.username }}</h4>
                        <p class="user-role">{{ current_user.profile.role.value if current_user.profile.role else 'User' }}</p>
                    </div>
                </div>
            </div>
        {% endif %}
        {% endblock %}
        
        {% block sidebar_nav %}

                
                <!-- Common links for all roles -->
                <li class="nav-divider"></li>
                <li><a href="{{ url_for('main.profile') }}" class="nav-link">ðŸ‘¤ Profile</a></li>
                <li><a href="{{ url_for('auth.logout') }}" class="nav-link">ðŸšª Logout</a></li>
            </ul>
        </nav>
        {% endblock %}
    </aside>
    
    <!-- Main content area -->
    <main class="main-content">
        {% block dashboard_header %}
        <header class="content-header">
            <h1>{% block page_title %}Dashboard{% endblock %}</h1>
        </header>
        {% endblock %}
        
        <div class="content">
            {% block dashboard_content %}{% endblock %}
        </div>
    </main>
</div>
{% endblock %}